(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(8971)}])},1684:function(e,n,s){"use strict";s.d(n,{Z:function(){return b}});var r=s(5893),t=s(7294),a=s(2641),i=s(9937),o=s(8445),l=s(3965),c=s(4267),d=s(2023),h=s(5495),u=s(9661),p=s(4871),x=s(8862),m=s(265),j=s(6111),g=s(1359),f=s(3508),Z=s(7976);s(2465);var v=s(4866);s(3063);let y=(0,a.ZP)(e=>{let{expand:n,...s}=e;return(0,r.jsx)(p.Z,{...s})})(e=>{let{theme:n,expand:s}=e;return{transform:s?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest})}});function b(e){let{cardTitle:n,cardSubheader:s,cardImageURI:a,cardSummary:b,cardSteps:C}=e,[S,w]=t.useState(!1),[k,_]=(0,t.useState)(""),I=()=>{w(!S)},N=async()=>{console.log("cardImageURI is"),console.log(a);let e=v.Z.storage().refFromURL(a),n=await e.getDownloadURL();_(n)};return(0,t.useEffect)(()=>{N()},[]),(0,r.jsxs)(i.Z,{sx:{maxWidth:345},children:[(0,r.jsx)(o.Z,{avatar:(0,r.jsx)(u.Z,{sx:{bgcolor:m.Z[500]},"aria-label":"recipe",children:"R"}),action:(0,r.jsx)(p.Z,{"aria-label":"settings",children:(0,r.jsx)(Z.Z,{})}),title:n,subheader:s}),(0,r.jsx)(l.Z,{component:"img",height:"194",image:k,alt:b}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(x.Z,{variant:"body2",color:"text.secondary",children:b})}),(0,r.jsxs)(d.Z,{disableSpacing:!0,children:[(0,r.jsx)(p.Z,{"aria-label":"add to favorites",children:(0,r.jsx)(j.Z,{})}),(0,r.jsx)(p.Z,{"aria-label":"share",children:(0,r.jsx)(g.Z,{})}),(0,r.jsx)(y,{expand:S,onClick:I,"aria-expanded":S,"aria-label":"show more",children:(0,r.jsx)(f.Z,{})})]}),(0,r.jsx)(h.Z,{in:S,timeout:"auto",unmountOnExit:!0,children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(x.Z,{paragraph:!0,children:"Method:"}),C.map(e=>(0,r.jsx)(x.Z,{paragraph:!0,children:e},e))]})})]})}},2465:function(e,n,s){"use strict";var r=s(4866),t=s(3977);s(6845);let a={apiKey:"AIzaSyDu_hEsypDSCaC4d52ZUNYH8IG7sLrBaww",authDomain:"recipe-project-58ad7.firebaseapp.com",projectId:"recipe-project-58ad7",storageBucket:"recipe-project-58ad7.appspot.com",messagingSenderId:"640300221963",appId:"1:640300221963:web:eb5b158c2fb5d0d073290e",measurementId:"G-Z6WEVWCFEB"};r.Z.initializeApp(a),(0,t.ZF)(a)},8892:function(e,n,s){"use strict";s.d(n,{qh:function(){return a}});var r=s(5893),t=s(7294);function a(){let[e,n]=(0,t.useState)(!1),s=e=>{e.stopPropagation()};return(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{onClick:()=>n(!0),children:" Show Popup "}),(0,r.jsxs)("div",{onClick:s,children:[(0,r.jsx)(i,{show:e,onClick:()=>n(!1)}),(0,r.jsx)(o,{show:e,onClick:()=>n(!1)})]})]})}function i(e){let{show:n,onClick:s}=e;return n?(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(51,51,51,255)",zIndex:1},onClick:s}):null}function o(e){let{show:n,onClick:s}=e;return n?(0,r.jsxs)("div",{style:{background:"white",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"20px",zIndex:2},children:[(0,r.jsx)("h2",{children:"Popup Content"}),(0,r.jsx)("p",{children:"Here is some content for the popup!"}),(0,r.jsx)("button",{onClick:s,children:" Hide Popup "})]}):null}},8971:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return L}});var r=s(5893),t=s(7294),a=s(3485),i=s.n(a);function o(e){return(0,r.jsx)("button",{className:i().user,onClick:e.onClick,children:"User"})}function l(e){return(0,r.jsx)("button",{className:i().admin,onClick:e.onClick,children:"Admin"})}var c=s(2358),d=s.n(c),h=s(1163);let u=e=>{let n=(0,h.useRouter)(),[s,a]=(0,t.useState)(""),[i,o]=(0,t.useState)("");return(0,r.jsxs)("form",{onSubmit:function(r){r.preventDefault();let t=async()=>{let n={name:s,password:i,type:e.name},r=await fetch("http://localhost:5000/confirm",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});return r.json()};t().then(e=>{alert(e.message),"You can log in!"==e.message&&n.push({pathname:"/about",query:{test:"Testing"}},"/about/what_are_you_looking_at")})},className:d().form,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Title",children:e.name}),(0,r.jsx)("input",{id:"name",type:"text",value:s,onChange:e=>a(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"post",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"text",value:i,onChange:e=>o(e.target.value)})]}),(0,r.jsx)("button",{type:"submit",children:"Submit"})]})};var p=s(4848),x=s.n(p),m=s(8892),j=s(1684),g=s(682),f=s(9368),Z=s(5738),v=s(4565);s(1535);var y=s(2585),b=s(1451),C=s(5155),S=s(5005),w=s(3408),k=s(6212),_=s(2318),I=function(e){let n=(n,s)=>{e.handleStepChange(n,s)},s=()=>{e.handleAddStep()},t=n=>{e.handleDeleteStep(n)},a=e=>{e.preventDefault()};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(w.Z,{onSubmit:a,children:[e.steps.map((e,s)=>(0,r.jsxs)(_.Z,{className:"mb-3",children:[(0,r.jsx)(w.Z.Control,{placeholder:"Step ".concat(s+1),"aria-label":"Step ".concat(s+1),type:"text",value:e,onChange:e=>n(e,s)}),(0,r.jsx)(S.Z,{variant:"danger",onClick:()=>t(s),children:"Delete"})]},s)),(0,r.jsx)(S.Z,{variant:"secondary",onClick:s,children:"Add Step"})]})})};s(2465);var N=s(4866);s(3063);var P=function(e){let[n,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[h,u]=(0,t.useState)("Empty");(0,t.useEffect)(()=>{"Empty"!==h&&(console.log("I'm running postData"),b().then(()=>{window.location.reload(!0)}))},[h]);let[p,x]=(0,t.useState)([""]),m=()=>{x(e=>[...e,""])},j=()=>{m(),console.log("Added step")},g=e=>{let n=[...p];n.splice(e,1),x(n)},f=e=>{g(e),console.log("Deleted step")},Z=(e,n)=>{let s=[...p];s[n]=e.target.value,x(s)},v=(e,n)=>{Z(e,n),console.log("Step changed")},y=e=>{console.log(e.target.files[0]),i(e.target.files[0])},b=async()=>{var e=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});let n=await fetch("http://localhost:5000/recipe",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({title:o,subheader:e,summary:c,steps:p,imageURI:h})});return n.json()},C=e=>{e.preventDefault();let n=async e=>{let n=N.Z.storage().ref(),s=n.child(e.name);s.put(e).then(async e=>{let n=s.toString();u(n)})};n(a)},_=()=>{e.handleCloseChanges()};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(k.Z,{show:e.show,onHide:_,children:[(0,r.jsx)(k.Z.Header,{closeButton:!0,children:(0,r.jsx)(k.Z.Title,{children:"Add a Recipe"})}),(0,r.jsx)(k.Z.Body,{children:(0,r.jsxs)(w.Z,{onSubmit:C,children:[(0,r.jsxs)(w.Z.Group,{className:"mb-3",controlId:"RecipeTitle",children:[(0,r.jsx)(w.Z.Label,{children:"Recipe Title"}),(0,r.jsx)(w.Z.Control,{value:o,onChange:e=>l(e.target.value),type:"text",autoFocus:!0})]}),(0,r.jsxs)(w.Z.Group,{className:"mb-3",controlId:"RecipeDescription",children:[(0,r.jsx)(w.Z.Label,{children:"Recipe Description"}),(0,r.jsx)(w.Z.Control,{value:c,onChange:e=>d(e.target.value),type:"text"})]}),(0,r.jsx)(I,{steps:p,handleAddStep:j,handleDeleteStep:f,handleStepChange:v}),(0,r.jsxs)(w.Z.Group,{className:"mb-3",controlId:"RecipeImage",children:[(0,r.jsx)(w.Z.Label,{children:"Image"}),(0,r.jsx)(w.Z.Control,{type:"file",onChange:y})]}),(0,r.jsx)(S.Z,{variant:"primary",type:"submit",children:"Submit"})]})}),(0,r.jsxs)(k.Z.Footer,{children:[(0,r.jsx)(S.Z,{variant:"secondary",onClick:_,children:"Close"}),(0,r.jsx)(S.Z,{variant:"primary",onClick:_,children:"Save Changes"})]})]})})},T=function(e){let[n,s]=(0,t.useState)(!1),a=()=>s(!0),i=()=>{s(!1),c(!1),_(!0),L()},o=(0,h.useRouter)(),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),[m,j]=(0,t.useState)(""),[g,f]=(0,t.useState)(""),[Z,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(""),[C,_]=(0,t.useState)(!0),I=e=>{b(e.target.value)};(0,t.useEffect)(()=>{p!==y?c(!1):c(!0)},[y,p]);let N=async()=>{let e=await fetch("http://localhost:5000/user",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({username:d,password:p,admin:!1,approved:!1})});return e.json()},P=e=>{if("signUpButton"===e.target.id){let n=e.target.closest("form");!1===n.checkValidity()||p!==y||""===y?(e.stopPropagation(),_(!1)):(_(!0),c(!0),N(),i())}},T=()=>{console.log("getting clicked");let e=async()=>{let e=await fetch("http://localhost:5000/user?username=".concat(m,"&password=").concat(g),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});return e.json()};e().then(e=>{if(console.log(e),e.sendData){if(console.log("This is ".concat(e)),console.log(e),console.log("This is after data"),v(!0),L(),alert("Logged in!"),e.sendData.admin){sessionStorage.setItem("admin",!0);let n=async()=>{let e=await fetch("http://localhost:5000/admin",{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({admin:!0})});return e.json()};n().then(e=>{console.log("This is adminData.admin ".concat(e.message)),console.log(e.message),e.message&&o.push({pathname:"/admin"})})}}else alert("Invalid login"),console.log("Not valid")})},D=e=>{e.preventDefault(),console.log("recipeSubmit running")},L=()=>{e.handleLoginCloseChanges()};return n?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(k.Z,{show:e.show,onHide:i,children:[(0,r.jsx)(k.Z.Header,{closeButton:!0,children:(0,r.jsx)(k.Z.Title,{children:"Sign Up"})}),(0,r.jsx)(k.Z.Body,{children:(0,r.jsxs)(w.Z,{noValidate:!0,validated:l,onSubmit:P,children:[(0,r.jsxs)(w.Z.Group,{className:"mb-3",controlId:"formBasicUsername",children:[(0,r.jsx)(w.Z.Label,{children:"Username"}),(0,r.jsx)(w.Z.Control,{type:"text",placeholder:"Username",required:!0,onChange:e=>u(e.target.value)}),(0,r.jsx)(w.Z.Control.Feedback,{type:"invalid",children:"Please enter a username."})]}),(0,r.jsxs)(w.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,r.jsx)(w.Z.Label,{children:"Password"}),(0,r.jsx)(w.Z.Control,{type:"password",placeholder:"Password",required:!0,onChange:e=>x(e.target.value)}),(0,r.jsx)(w.Z.Control.Feedback,{type:"invalid",children:"Please enter a password."})]}),(0,r.jsxs)(w.Z.Group,{className:"mb-3",controlId:"formBasicConfirmPassword",children:[(0,r.jsx)(w.Z.Label,{children:"Confirm Password"}),(0,r.jsx)(w.Z.Control,{type:"password",placeholder:"Confirm Password",onChange:I,isInvalid:!C}),(0,r.jsx)(w.Z.Control.Feedback,{type:"invalid",children:C?"Please confirm your password.":"Passwords do not match."})]}),(0,r.jsx)(S.Z,{id:"signUpButton",variant:"primary",onClick:P,children:"Submit"})]})}),(0,r.jsx)(k.Z.Footer,{children:(0,r.jsx)(S.Z,{variant:"secondary",onClick:i,children:"Close"})})]})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(k.Z,{show:e.show,onHide:L,children:[(0,r.jsx)(k.Z.Header,{closeButton:!0,children:(0,r.jsx)(k.Z.Title,{children:"Login"})}),(0,r.jsx)(k.Z.Body,{children:(0,r.jsxs)(w.Z,{onSubmit:D,children:[(0,r.jsxs)(w.Z.Group,{className:"mb-3",controlId:"Username",children:[(0,r.jsx)(w.Z.Label,{children:"Username"}),(0,r.jsx)(w.Z.Control,{type:"text",onChange:e=>j(e.target.value)})]}),(0,r.jsxs)(w.Z.Group,{className:"mb-3",controlId:"Password",children:[(0,r.jsx)(w.Z.Label,{children:"Password"}),(0,r.jsx)(w.Z.Control,{type:"password",onChange:e=>f(e.target.value)})]}),(0,r.jsx)(S.Z,{variant:"primary",onClick:T,children:"Log in"}),(0,r.jsx)(S.Z,{variant:"primary",type:"button",onClick:a,children:"Sign up"})]})}),(0,r.jsxs)(k.Z.Footer,{children:[(0,r.jsx)(S.Z,{variant:"secondary",onClick:L,children:"Close"}),(0,r.jsx)(S.Z,{variant:"primary",onClick:L,children:"Save Changes"})]})]})})},D=function(){let[e,n]=(0,t.useState)(!1),s=()=>n(!1),a=()=>n(!0),i=()=>{s(),console.log("Save changes clicked")},[o,l]=(0,t.useState)(!1),c=()=>l(!1),d=()=>l(!0),h=()=>{c(),console.log("Save changes clicked")};return(0,r.jsxs)(g.Z,{children:[(0,r.jsx)(Z.Z,{className:"bg-body-tertiary",children:(0,r.jsxs)(g.Z,{children:[(0,r.jsx)(Z.Z.Brand,{href:"#home",children:"React-Bootstrap"}),(0,r.jsx)(Z.Z.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,r.jsxs)(f.Z,{className:"me-auto",children:[(0,r.jsx)(f.Z.Link,{href:"#home",children:"Home"}),(0,r.jsx)(f.Z.Link,{href:"#link",children:"Link"}),(0,r.jsxs)(v.Z,{title:"Dropdown",id:"basic-nav-dropdown",children:[(0,r.jsx)(v.Z.Item,{href:"#action/3.1",children:"Action"}),(0,r.jsx)(v.Z.Item,{href:"#action/3.2",children:"Another action"}),(0,r.jsx)(v.Z.Item,{href:"#action/3.3",children:"Something"}),(0,r.jsx)(v.Z.Divider,{}),(0,r.jsx)(v.Z.Item,{href:"#action/3.4",children:"Separated link"})]})]}),(0,r.jsxs)(f.Z,{children:[(0,r.jsxs)(Z.Z.Brand,{children:[(0,r.jsx)(y.ufL,{size:35}),(0,r.jsx)("br",{}),"Submit a Recipe"]}),(0,r.jsx)(S.Z,{variant:"primary",onClick:a,children:"Add a Recipe"}),(0,r.jsx)(S.Z,{variant:"primary",onClick:d,children:"Log In"}),(0,r.jsxs)(Z.Z.Brand,{href:"#home",children:[(0,r.jsx)(b.$cv,{size:35}),(0,r.jsx)("br",{}),"My Account"]}),(0,r.jsxs)(Z.Z.Brand,{href:"/search",children:[(0,r.jsx)(C.yD8,{size:35}),(0,r.jsx)("br",{}),"Search for Recipes"]})]})]})}),(0,r.jsx)(P,{show:e,onHide:s,handleCloseChanges:i}),(0,r.jsx)(T,{show:o,onHide:c,handleLoginCloseChanges:h})]})};function L(){let[e,n]=(0,t.useState)(""),[s,a]=(0,t.useState)(!1),[i,c]=(0,t.useState)([]),[d,h]=(0,t.useState)(!1),[p,g]=(0,t.useState)(!1),[f,Z]=(0,t.useState)(!1);function v(){n("user")}function y(){n("admin")}let b=()=>{a(!1)};if(!1==f){let C=async()=>{let e=await fetch("http://localhost:5000/recipe",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"});return e.json()};C().then(e=>{if(console.log(e),e.sendData){console.log("This is ".concat(e)),console.log(e),console.log("This is after data");var n=[];e.sendData.map(e=>{n.push({title:e.title,subheader:e.subheader,imageURI:e.imageURI,summary:e.summary,steps:e.steps})}),c(n),console.log(n),h(!0),Z(!0)}else g(!0)})}return!0==d?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:x().bg,style:{overflow:"hidden"},children:(0,r.jsxs)("div",{className:x().parent,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(D,{})}),(0,r.jsxs)("div",{className:x().buttons,children:[(0,r.jsx)(o,{onClick:v}),(0,r.jsx)(l,{onClick:y})]}),(0,r.jsxs)("article",{className:x().mainArticle,children:[(0,r.jsx)("h1",{children:"Welcome to Momo's World!"}),(0,r.jsx)("p",{children:"This is where you can find and upload recipes!"})]})]}),(0,r.jsx)("div",{className:x().recipecardscontainer,children:i.map(e=>(0,r.jsx)(j.Z,{cardTitle:e.title,cardSubheader:e.subheader,cardImageURI:e.imageURI,cardSummary:e.summary,cardSteps:e.steps},e.title))})]})}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{children:"Hello"})})]}):!0==p?(0,r.jsxs)("div",{className:x().bg,style:{overflow:"hidden"},children:[(0,r.jsx)("div",{className:x().parent,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsx)(D,{})}),(0,r.jsxs)("div",{className:x().buttons,children:[(0,r.jsx)(o,{onClick:v}),(0,r.jsx)(l,{onClick:y})]}),(0,r.jsxs)("article",{className:x().mainArticle,children:[(0,r.jsx)("h1",{children:"Welcome to Momo's World!"}),(0,r.jsx)("p",{children:"This is where you can find and upload recipes!"})]})]})}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{id:"home",children:"Hello"})})]}):"user"==e?(0,r.jsxs)("div",{onClick:b,children:[(0,r.jsx)("p",{children:"You are a user!"}),(0,r.jsxs)("p",{children:["Or are you an admin? ",(0,r.jsx)(l,{onClick:y,children:" "})]}),(0,r.jsx)(u,{name:"Username"}),(0,r.jsx)(m.qh,{})]}):"admin"==e?(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"You are an admin!"}),(0,r.jsxs)("p",{children:["Or are you a user? ",(0,r.jsx)(o,{onClick:v,children:" "})]}),(0,r.jsx)(u,{name:"Admin Username"})]}):void 0}s(6785)},4848:function(e){e.exports={user:"index_user__ST9uD",admin:"index_admin__HeZu9",bg:"index_bg__wWxJu",buttons:"index_buttons__iW9B4",navnav:"index_navnav__jPFnS",mainArticle:"index_mainArticle__jMc4p",recipecardscontainer:"index_recipecardscontainer__hf88m",parent:"index_parent__wg5C8"}},3485:function(e){e.exports={user:"useradmin_user__PVIM8",admin:"useradmin_admin__ZWk3d"}},2358:function(e){e.exports={form:"users_form___FGb1"}}},function(e){e.O(0,[942,570,158,980,961,752,299,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);